/**
 * 路径处理模块
 */
var path = require('path');
var querystring = require('querystring');

/**
 * 访问的控制器省略index的情况自动增加index
 * @param url
 * @returns {*}
 */
exports.completion = function(url){
    if(/\/$/.test(url))
        return url+'index';
    else
        return url;
};

/**
 * 分析，解析路径
 * @param url
 * @returns {{}}
 */
exports.analytical = function(url){
    var _result = {};
    var _sp = url.split('?');
    var _route = _sp[0].split('/');
    _route.shift();
    _result.route = _route;
    _result.get = _sp[1] ? querystring.parse(_sp[1]) : {};
    _result.url = _sp[0];
    return _result;
};

/**
 * 在不存在端口号的情况下自动增加端口号
 * @param host
 * @returns {*}
 */
exports.host = function(host){
    if(/\:\d+$/.test(host))
        return host;
    else
        return host + ':80';
};

exports.vhost = function(){

};